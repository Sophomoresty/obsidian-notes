##  涉及异步的加密参数
### 案例1 https://www.qimai.cn/
目的: 分析网址发包的载荷参数
例子: 榜单数据的analysis参数, get请求

### 思路
1. 在发包处打断点, 也就是栈顶处, 或则打xhr断点, xhr断点实际上效果等同于在发包处断点

>    发包就是f.send, 或则是ajax发包, 目前看到最多的就是f.send

2. Promise then如果在栈中靠上的话, 进入它下面的栈, 在合适的位置打个断点, 目前职在异步正确的入口打过断点.
只打这一个断点还不行, 因为异步这个方法, 会被执行很多次, 如果只打这一个断点, 因为它会被调用多次, 分析到我们对应网址包比较麻烦, 所以一定要找到我们分析的地方前面的合适地方打个断点, 执行它之前肯定要对网络地址初始化, 所以结合发包的网络地址, 在搜索中查找源代码中含有该网址的地方, 在网址初始化的地方打个断点

总结: 第二步需要打两个断点, 1.异步正确执行入口 2.网址初始化处

3. 打完断点后, 目前有两个断点, 执行两次就到我们的异步正确执行入口, 找到入口的函数位置, 我们要观察异步执行的时候, 参数有没有加密, 在入口函数的开头和结束处打断点, 执行, 观察异步执行前是否加密, 执行后是否加密

本次案例, 在异步入口的函数中发现参数进行了加密.

### 案例2:https://m.ctyun.cn/wap/main/auth/login

## hook注入
### https://www.iqiyi.com/
hook的原则, hook的变量一定要是全局的.
### cookie注入
document.cookie是全局变量, 所以可以通过hook的方法修改.
在网站最开始加载的时候注入hook

### JSON.parse注入

将json字符串转化为对象
响应是加密数据的网址数据渲染的整个流程
浏览器请求服务器 => 服务器返回加密的字符串数据 => 浏览器调用 解密函数 解密字符串数据 => 解密的字符串数据通过JSON.parse转化为对象 => 浏览器调用对象, 渲染到网页中

所以对于这种响应加密的网址, 可以Hook JSON.parse.
hook代码:
```JavaScript
(function(){
	var parse = JSON.parse;
	JSON.parse = function(params){
		console.log("Hook JSON.parse --> ",params);
		debugger;
		return parse(params);
	}
})
```

